<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DecoTech | Premium Smart Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        :root {
            --primary-orange: #fb8500;
            --sky-blue: #00b4d8;
            --deep-red: #d62828;
            --dark-navy: #011627;
            --light-bg: #f8f9fa;
        }

        body { font-family: 'Poppins', sans-serif; overflow-x: hidden; background-color: #fff; color: #333; }

        /* Top Bar & Navbar (Keeping your original layout) */
        .top-bar { padding: 15px 0; border-bottom: 1px solid #f1f1f1; background: #fff; }
        .search-group { display: flex; max-width: 450px; width: 100%; position: relative; }
        .search-input { border: 1px solid #eee; padding: 10px 20px; width: 100%; border-radius: 8px 0 0 8px; outline: none; background: #f9f9f9; }
        .search-btn { background: var(--primary-orange); border: none; color: white; padding: 0 20px; border-radius: 0 8px 8px 0; transition: 0.3s; }
        .contact-info { font-size: 12px; }
        .contact-info i { color: var(--deep-red); font-size: 16px; margin-right: 8px; }

        .navbar { background: #fff; padding: 15px 0; }
        .nav-link { color: #000 !important; font-weight: 700; font-size: 11px; text-transform: uppercase; letter-spacing: 1px; padding: 5px 15px !important; cursor: pointer; }
        .nav-link:hover { color: var(--deep-red) !important; }

        /* Hero Carousel (Your Original Styles) */
        .carousel-item { min-height: 550px; padding: 80px 0; border-bottom-left-radius: 150px; position: relative; overflow: hidden; }
        .slide-1 { background-image: url(img/clothing.png); background-position: center; background-size: cover; }
        .slide-2 { background-image: url(img/decorhome.png); background-position: center; background-size: cover; }
        .slide-3 { background-image: url(img/smart-gadget.png); background-position: center; background-size: cover; }
        .carousel-content h1 { font-size: 55px; font-weight: 800; color: #00B4D8; line-height: 1.1; margin-bottom: 20px; }
        .carousel-content p { color: #D62828; font-size: 20px; margin-bottom: 30px; }
        .view-all-btn { background: #FA8201; color: white; border: none; padding: 12px 35px; font-weight: bold; border-radius: 5px; transition: 0.4s; }

        /* Section Title */
        .section-title { font-family: 'Courier New', Courier, monospace; color: var(--deep-red); font-size: 50px; font-weight: 900; margin: 40px 0; opacity: 0.8; }

        /* =========================================
           SMART & MODERN PRODUCT CARD DESIGN
        ============================================ */
        .product-card {
            background: #fff;
            border-radius: 20px;
            padding: 12px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid #f0f0f0;
            position: relative;
            height: 100%;
        }

        /* Image Container & Zoom Effect */
        .img-container {
            background: var(--light-bg);
            border-radius: 15px;
            height: 260px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: 0.4s;
        }

        .img-container img {
            max-height: 80%;
            width: auto;
            transition: all 0.6s ease;
        }

        /* Hover Zoom & Background Shift */
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.08);
            border-color: transparent;
        }

        .product-card:hover .img-container img {
            transform: scale(1.15) rotate(2deg);
        }

        /* Floating Action Buttons */
        .product-actions {
            position: absolute;
            bottom: -50px; /* Hidden initially */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            transition: 0.4s all ease-in-out;
            z-index: 10;
        }

        .product-card:hover .product-actions {
            bottom: 20px; /* Slides up on hover */
        }

        .action-btn {
            width: 40px;
            height: 40px;
            background: #fff;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: 0.3s;
            text-decoration: none;
        }

        .action-btn:hover {
            background: var(--primary-orange);
            color: #fff;
            transform: scale(1.1);
        }

        /* Sale Badge */
        .badge-sale {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(214, 40, 40, 0.9);
            color: #fff;
            font-size: 10px;
            font-weight: 700;
            padding: 5px 12px;
            border-radius: 50px;
            backdrop-filter: blur(5px);
            z-index: 2;
        }

        /* Info Section */
        .product-info {
            padding: 15px 5px 5px;
            text-align: left;
        }

        .product-info h6 {
            font-size: 15px;
            font-weight: 600;
            color: #222;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .price {
            font-size: 18px;
            font-weight: 800;
            color: var(--sky-blue);
        }

        .rating {
            font-size: 10px;
            color: #ffb703;
        }

        /* Footer & Others (Your Original Styles) */
        footer { background: var(--dark-navy); color: #fff; padding: 80px 0 20px; }
        .footer-logo span { color: var(--sky-blue); }
        .footer-link { display: block; color: #adb5bd; text-decoration: none; font-size: 13px; margin-bottom: 12px; }
        .wa-float { position: fixed; bottom: 30px; right: 30px; background: #25d366; color: white; width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px; z-index: 999; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="container d-flex justify-content-between align-items-center">
            <h2 class="fw-bold m-0" style="color:#222; cursor: pointer;" onclick="fetchProducts('all')">Deco<span style="color:var(--deep-red)">Tech</span></h2>
            <div class="search-group d-none d-lg-flex">
                <input type="text" class="search-input" id="searchBox" placeholder="Search premium items..." onkeyup="searchProducts()">
                <button class="search-btn"><i class="fa fa-search"></i></button>
            </div>
            <div class="d-flex gap-4">
                <div class="contact-info d-none d-md-block text-end">
                    <i class="fa fa-headphones-simple"></i> Call now: <br><strong>+2800 0500 2600</strong>
                </div>
                <div class="contact-info d-none d-md-block text-end">
                    <i class="fa fa-envelope"></i> Email now: <br><strong>info@gmail.com</strong>
                </div>
            </div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link" onclick="fetchProducts('all')">Home</a></li>
                    <li class="nav-item"><a class="nav-link" onclick="fetchProducts('all')">Shop</a></li>
                    <li class="nav-item"><a class="nav-link" onclick="fetchProducts('Decor')">Decor</a></li>
                    <li class="nav-item"><a class="nav-link" onclick="fetchProducts('Gadgets')">Gadgets</a></li>
                    <li class="nav-item"><a class="nav-link" onclick="fetchProducts('Clothing')">Clothing</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">About</a></li>
                </ul>
            </div>
            <div class="d-flex gap-4 fs-5 align-items-center">
                <i class="fa-regular fa-user"></i>
                <i class="fa-regular fa-heart"></i>
                <i class="fa-solid fa-shopping-bag"></i>
            </div>
        </div>
    </nav>

    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active slide-1">
                <div class="container"><div class="carousel-content" data-aos="fade-right"><h1>Modern Tech <br> Smart Decor</h1><p>New Arrival - Up to 40% Off</p><button class="view-all-btn">VIEW ALL</button></div></div>
            </div>
        </div>
    </div>

    <section class="container text-center py-5">
        <h2 class="section-title" id="pageTitle" data-aos="fade-up">All Product</h2>
        <div id="product-container" class="row g-4 mt-2">
            </div>
    </section>

    <footer>
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-4">
                    <div class="footer-logo fw-bold fs-3">Deco<span>Tech</span></div>
                    <p class="mt-3 text-secondary">Premium smart gadgets and home decor.</p>
                </div>
                <div class="col-lg-2">
                    <h6 class="fw-bold mb-4">Quick Menu</h6>
                    <a href="#" class="footer-link">Home</a>
                    <a href="#" class="footer-link">Shop</a>
                </div>
                <div class="col-lg-2">
                    <h6 class="fw-bold mb-4">Support</h6>
                    <a href="login.html" class="footer-link" target="_blank">Admin Login</a>
                    <a href="#" class="footer-link">Privacy Policy</a>
                </div>
                <div class="col-lg-4">
                    <h6 class="fw-bold mb-4">Newsletter</h6>
                    <input type="text" class="search-input w-100 mb-2" placeholder="Email Address">
                    <button class="view-all-btn w-100">SUBSCRIBE</button>
                </div>
            </div>
            <div class="row mt-5 pt-4 border-top border-secondary opacity-50 small">
                <div class="col-md-6">© 2026 DecoTech Store. All Rights Reserved.</div>
                <div class="col-md-6 text-end">03/02/2026 | Rajshahi, BD</div>
            </div>
        </div>
    </footer>

    <a href="#" class="wa-float"><i class="fab fa-whatsapp"></i></a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });

        const supabaseUrl = 'https://qxiofcydkujuxoiyvdlh.supabase.co'; 
        const supabaseKey = 'sb_publishable_QOjefQ_1QCL6BGNkmAHn5w_bZBoLH-R';
        const _supabase = supabase.createClient(supabaseUrl, supabaseKey);

        let cachedItems = [];

        async function fetchProducts(cat = 'all') {
            document.getElementById('pageTitle').innerText = cat === 'all' ? "All Product" : cat;
            const { data, error } = await _supabase.from('products').select('*').order('id', { ascending: false });
            if (error) return;
            
            cachedItems = data;
            const filtered = cat === 'all' ? data : data.filter(p => p.category === cat);
            render(filtered);
        }

        function render(data) {
            const container = document.getElementById('product-container');
            container.innerHTML = data.map((p, i) => `
                <div class="col-6 col-md-4 col-lg-3" data-aos="fade-up" data-aos-delay="${i * 50}">
                    <div class="product-card">
                        <div class="img-container">
                            ${p.Discount > 0 ? `<span class="badge-sale">${p.Discount}% OFF</span>` : ''}
                            <img src="${p.image_url || 'https://via.placeholder.com/200'}" alt="${p.name}">
                            <div class="product-actions">
                                <div class="action-btn"><i class="fa-regular fa-heart"></i></div>
                                <div class="action-btn"><i class="fa-solid fa-cart-shopping"></i></div>
                                <div class="action-btn"><i class="fa-regular fa-eye"></i></div>
                            </div>
                        </div>
                        <div class="product-info">
                            <h6>${p.name}</h6>
                            <div class="price-row">
                                <div class="price">€${p.price}</div>
                                <div class="rating">
                                    <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa-half-alt fa"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function searchProducts() {
            const t = document.getElementById('searchBox').value.toLowerCase();
            render(cachedItems.filter(p => p.name.toLowerCase().includes(t)));
        }

        window.onload = () => fetchProducts('all');
    </script>
</body>
</html>
